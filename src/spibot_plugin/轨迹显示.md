## 轨迹显示的注意事项
### 抄代码
gazebo没有配置轨迹显示的插件，需要自定义插件，可以参考unitree的力轨迹显示插件，可以参考CSDN上的博主
https://blog.csdn.net/qq_44642372/article/details/131983506

src的plugin代码直接复制粘贴，对cmakelist和package代码进行补充一些包和源代码。博主的gazbeo是9或者10，现在是gazebo11，make代码会有错误，需要修改plugin的代码。
参考github上的代码解答：https://github.com/unitreerobotics/unitree_ros/issues/32

### 应用代码
注意：机器人悬挂功能需要创建world坐标系，不能是其他的连杆名字，否则无法悬挂；轨迹显示也需要world坐标系，不能是其他的连杆名字，否则无法轨迹绘制。world坐标系应该是跟map坐标系属于一个众所周知的名词存在，即不用定义也存在。两个xacro文件用同一个world坐标系没有事，但是其他自己命名的连杆好像就不能重复命名。

绘制轨迹相当于新建一个图层并把位置信息反映在轨迹上。

需要利用gazebo的libgazebo_ros_p3d插件，得到机器人base_link相对于map坐标系的位姿，得到Odometry的话题。（放在launch文件的最后面，接在两个xacro文件下面）

我们需要新建一个xacro文件，能够把线条反映在gazebo上，需要构建一个root连杆，增加新构建的插件draw_traj，接收libgazebo_ros_p3d发布的Odometry话题，并以root连杆为起点绘制轨迹线条，所以有两个xacro在launch文件运行。
![launch里面包含2个xacro文件](/root/spibot_ws/src/spibot_plugin/launch_with_2xacro.png)


